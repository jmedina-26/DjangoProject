{% extends 'base.html' %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>{% if title %} {{ title }} {% else %} Blog {% endif %}</title>
	{% load django_bootstrap5 %}
	{% bootstrap_css %}
</head>
<body>
	{% block content %}
	<div class="container my-5">
		<h1 class="text-center mb-4">Mis Publicaciones</h1>
		{% for post in posts %}
			<div class="card mb-4">
				<div class="card-body">
					<h2 class="card-title">{{ post.title }}</h2>
					<small class="text-muted">Publicado el {{ post.published_at | date:"d M, Y" }} por {{ post.author | title }}</small>
					<p class="card-text mt-3">{{ post.content }}</p>
					
					{% if request.user.is_authenticated and request.user == post.author %}
						<div class="d-flex justify-content-start mt-3">
							<a href="{% url 'post-edit' post.id %}" class="btn btn-warning btn-sm me-2">Editar</a>
							<a href="{% url 'post-delete' post.id %}" class="btn btn-danger btn-sm">Eliminar</a>
						</div>
					{% endif %}
				</div>
			</div>
		{% endfor %}
	</div>
	{% endblock content %}
</body>
</html>
